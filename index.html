
<!DOCTYPE html>
<html lang=en>
<head>
  <title>POC var fonts datavis</title>
  <meta name="viewport" content="width=device-width">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <style>

main {
  max-width: 38rem;
  padding: 2rem;
  margin: auto;
}

body {
  font-family: Liberation Sans, Arial, sans-serif;
  line-height: 1.3;
}

/* Word cloud */
.cloud {
  border: 1px #bbb solid;
  padding: 7px 17px;
}

/* Load variable fonts */
@font-face {
  src: url('assets/CrimsonPro-Roman-VF.woff2');
  font-family:'Crimson Pro';
  font-style: normal;
}

@font-face {
  src: url('assets/Haki_variable.woff2');
  font-family:'Haki';
  font-style: normal;
}

  </style>
</head>
<body>
<main>
  <article>
    <header>
      <h1>Proof of concept: variable fonts for data visualization</h1>
    </header>
    <p>
      Variable fonts have a lot of design space. Each one behaves its own way. It impacts semiotics in various ways. Here are a few ideas and reflections on operationalization to data visualization.
    </p>

    <h3>The problem with variable fonts</h3>
    <p>
      Crimson Pro is a nice, open source variable font. It varies in weight from 275 to 900. It looks like other nice fonts but the continuously variable weight can play the role or a visual variable to represent a quantitative value.
    </p>
    <figure style="font-family: 'Crimson Pro'; font-size: 2em;">
      <span style="font-variation-settings: 'wght' 275;">Lorem ipsum 275</span><br>
      <span style="font-variation-settings: 'wght' 500;">Lorem ipsum 500</span><br>
      <span style="font-variation-settings: 'wght' 700;">Lorem ipsum 700</span><br>
      <span style="font-variation-settings: 'wght' 900;">Lorem ipsum 900</span><br>
    </figure>
    <p>Let us make a simple word cloud, as a minimalist example of a data visualization.</p>
    <figure
      style="font-family: 'Crimson Pro'; font-size: 1.6em;"
      class="cloud"
      data-font-var="wght"
      data-font-min="275"
      data-font-max="900"
    ></figure>

    <h3>Haki: vary the width</h3>
    <p>
      Haki varies in width by adding weight.
    </p>
    <figure style="font-family: 'Haki'; font-size: 1.6em;">
      <span style="font-variation-settings: 'wght' 050;">Lorem ipsum 050</span><br>
      <span style="font-variation-settings: 'wght' 100;">Lorem ipsum 100</span><br>
      <span style="font-variation-settings: 'wght' 150;">Lorem ipsum 150</span><br>
      <span style="font-variation-settings: 'wght' 200;">Lorem ipsum 200</span><br>
      <span style="font-variation-settings: 'wght' 250;">Lorem ipsum 250</span><br>
    </figure>
    <figure
      style="font-family: 'Haki'; font-size: 1.6em;"
      class="cloud"
      data-font-var="wght"
      data-font-min="50"
      data-font-max="250"
    ></figure>
    <footer>
      <p>TODO: <a href="">link to repo</a></p>
    </footer>
  </article>
</main>
<script>

// Word cloud words for this demo
var words = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum";

$.each( words.split(/[ \?,\.:]/), function(i, w) {
  if (w.length > 0) {
    $('.cloud').append("<span class='word'>"+ w +"</span> ");   
  }
});

$('.word').each(function(i, el){
  var fontVar = $(el).parent().attr('data-font-var')
  var fontMin = +$(el).parent().attr('data-font-min')
  var fontMax = +$(el).parent().attr('data-font-max')
  $(el).attr('style', 'font-variation-settings: \''+fontVar+'\' '+getRandomInt(fontMin, fontMax)+';')
})

function getRandomInt( min, max ) {
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor( Math.random() * (max - min) ) + min;
}


</script>
</body>
</html>
